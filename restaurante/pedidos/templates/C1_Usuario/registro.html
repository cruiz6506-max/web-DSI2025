<!DOCTYPE html>
{% load static %}
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Login - Pedidos</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="{% static 'css/Login/registro.css' %}" />
  <link rel="icon" href="{% static 'img/logoOficial.png' %}" type="image/x-icon" />
</head>
<body>
  <div class="login-container">
    <div class="container">

        <div class="login-left">
            <a href="{% url 'login' %}" class="btn-regresar">← Regresar</a>
        <div class="logo-wrapper">

          <img src="{% static 'img/logo.png' %}" alt="Logo" class="login-vector" />
        </div>
      </div>

<div class="login-right">
  <h2>Ingresa tus datos</h2>
  <p class="subtitle">Nos encanta que seas parte de nuestra familia</p>

  <form class="login-form" action="{% url 'registro' %}" method="POST">
    {% csrf_token %}
    <div class="form-column">
      <input type="text" id="cedula" name="cedula" required placeholder="Cédula" />
      <input type="text" id="nombre" name="nombre" required placeholder="Tu nombre" />
      <input type="text" id="apellido" name="apellido" required placeholder="Tu apellido" />
    </div>

    <div class="form-column">
      <input type="email" id="email" name="email" required placeholder="correo@ejemplo.com" />

      <div class="password-wrapper">
        <input
          type="password"
          id="password"
          name="password"
          required
          placeholder="Contraseña"
          pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[A-Za-z\d]{8,12}$"
          title="8-12 caracteres, mayúsculas, minúsculas y número"
        />
        <button type="button" class="toggle-password" aria-label="Mostrar contraseña">
          <svg class="eye-icon" xmlns="http://www.w3.org/2000/svg" fill="none"
            viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round"
              d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
            <path stroke-linecap="round" stroke-linejoin="round"
              d="M2.458 12C3.732 7.943 7.523 5 12 5s8.268 2.943 9.542 7
              c-1.274 4.057-5.065 7-9.542 7s-8.268-2.943-9.542-7z" />
          </svg>
        </button>
      </div>

      <small class="password-info">
        Debe tener entre 8 y 12 caracteres<br />
        Debe incluir mayúsculas y minúsculas<br />
        Debe incluir al menos un número
      </small>

      <input
        type="password"
        id="password-repeat"
        name="password-repeat"
        required
        placeholder="Repite tu contraseña"
      />

      <label for="rol" class="rol">Rol</label>
      <select id="rol" name="rol" required>
        <option value="cliente" selected>Cliente</option>
      </select>
    </div>
      <label for="pregunta_clave">Pregunta clave:</label>
    <select id="pregunta_clave" name="pregunta_clave" required>
      <option value="">Seleccione una pregunta</option>
      <option value="mascota">¿Cuál es el nombre de tu primera mascota?</option>
      <option value="ciudad">¿En qué ciudad naciste?</option>
      <option value="comida">¿Cuál es tu comida favorita?</option>
      <option value="maestro">¿Cuál es el nombre de tu maestro o maestra favorita?</option>
      <option value="trabajo">¿Cuál fue tu primer trabajo?</option>
    </select>

    <input type="text" id="respuesta_clave" name="respuesta_clave" required placeholder="Respuesta" />


    <div class="checkbox-group">
      <label>
        <input type="checkbox" name="data-accept" required />
        Acepto que el sistema almacene y trate mis datos.
      </label>
      <label>
        <input type="checkbox" name="terms-accept" required />
        Acepto los Términos y Condiciones del sitio web.
      </label>
    </div>

    <button type="submit" class="continuar" onclick="mostrarMensaje()">Registrar</button>
  </form>
</div>



  </div>

  <script>
    document.querySelectorAll('.toggle-password').forEach(button => {
      button.addEventListener('click', () => {
        const input = button.previousElementSibling;
        const icon = button.querySelector('svg');

        if (input.type === 'password') {
          input.type = 'text';
          button.setAttribute('aria-label', 'Ocultar contraseña');
          icon.innerHTML = `
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.542-7
              a9.97 9.97 0 012.098-3.368M9.88 9.88a3 3 0 014.24 4.24M6.1 6.1l11.8 11.8" />
          `;
        } else {
          input.type = 'password';
          button.setAttribute('aria-label', 'Mostrar contraseña');
          icon.innerHTML = `
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M2.458 12C3.732 7.943 7.523 5 12 5s8.268 2.943 9.542 7
              c-1.274 4.057-5.065 7-9.542 7s-8.268-2.943-9.542-7z" />
          `;
        }
      });
    });
  </script>

    <script>
    function mostrarMensaje() {
        alert("¡Registro exitoso! Ahora puedes iniciar sesión.");
    }
</script>
      </div>
</body>
</html>

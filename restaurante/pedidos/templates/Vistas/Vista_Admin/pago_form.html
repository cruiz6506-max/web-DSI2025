{% extends 'Vistas/Vista_Admin/base_admin.html' %}

{% block title %}Registrar Pago{% endblock %}

{% block content %}
<div class="content-header">
    <h2 class="content-title"> Registrar Pago - Pedido #{{ pedido.id }}</h2>
</div>

<div class="form-container-large">
    <form method="POST">
        {% csrf_token %}

        <div class="form-section pedido-info">
    <h3 class="section-title">Información del Pedido</h3>

    <div class="pedido-info-grid">
        <div class="info-item">
            <span class="info-label">Cliente</span>
            <span class="info-value">
                {{ pedido.usuario.nombre }} {{ pedido.usuario.apellido }}
            </span>
        </div>

        <div class="info-item">
            <span class="info-label">Tipo de Pedido</span>
            <span class="info-value">
                {{ pedido.get_tipo_pedido_display }}
            </span>
        </div>

        <div class="info-item total">
            <span class="info-label">Total a Pagar</span>
            <span class="info-value total-amount">
                ${{ total }}
            </span>
        </div>
    </div>
</div>
<br>
        <div class="form-section">
            <h3 class="section-title">Datos del Pago</h3>
            <br>
            <div class="form-group">
                <label>Método de Pago *</label>
                <select name="metodo" class="form-control" required>
                    <option value="">Seleccione un método</option>
                    <option value="efectivo"> Efectivo</option>
                    <option value="tarjeta">Tarjeta</option>
                    <option value="transferencia"> Transferencia</option>
                </select>
            </div>

            {% if pedido.tipo_pedido == 'domicilio' %}
            <div class="form-group">
                <label>Dirección de Entrega *</label>
                <input type="text" name="direccion_entrega" class="form-control" required>
            </div>
            {% endif %}

            <div class="form-group">
                <label>Teléfono de Contacto</label>
                <input type="text" name="telefono_contacto" class="form-control">
            </div>
        </div>

        <div class="form-actions">
            <button type="submit" class="btn-primary">Registrar Pago</button>
            <a href="{% url 'pedidos_list' %}" class="btn-secondary">Cancelar</a>
        </div>
    </form>
</div>
<style>



.pedido-info-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 20px;
    margin-top: 15px;
}

.info-item {
    background: white;
    border-radius: 8px;
    padding: 15px 18px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.08);
    display: flex;
    flex-direction: column;
}

.info-label {
    font-size: 13px;
    color: #777;
    margin-bottom: 6px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.info-value {
    font-size: 18px;
    font-weight: 600;
    color: #333;
}

.info-item.total {
    border-left: 6px solid #ff5722;
}

.total-amount {
    font-size: 26px;
    font-weight: bold;
    color: #ff5722;
}
</style>

{% endblock %}

{% extends 'Vistas/Vista_Admin/base_admin.html' %}

{% block title %}Pagos{% endblock %}

{% block content %}
<div class="content-header">
    <h2 class="content-title"> Pagos / Facturas</h2>
</div>

<div class="info-text">
    Para registrar un pago, primero debes ir a un pedido pendiente.
</div>

<table class="pagos-table">
    <thead>
        <tr>
            <th>ID</th>
            <th>Pedido</th>
            <th>Cliente</th>
            <th>MÃ©todo</th>
            <th>Monto</th>
            <th>Fecha</th>
            <th>Acciones</th>
        </tr>
    </thead>
    <tbody>
        {% for pago in pagos %}
        <tr>
            <td>{{ pago.id }}</td>
            <td>#{{ pago.pedido.id }}</td>
            <td>{{ pago.pedido.usuario.nombre }} {{ pago.pedido.usuario.apellido }}</td>
            <td class="metodo">{{ pago.metodo|capfirst }}</td>
            <td class="monto">${{ pago.monto }}</td>
            <td>{{ pago.fecha_pago|date:"d/m/Y H:i" }}</td>
            <td class="acciones">
                <a href="{% url 'editar_pago' pago.id %}" class="btn-editar">Editar</a>
                <a href="{% url 'eliminar_pago' pago.id %}" class="btn-eliminar">Eliminar</a>
            </td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="7" class="no-registros">No hay pagos registrados.</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<style>
.content-header {
    margin-bottom: 20px;
}

.info-text {
    font-size: 0.9rem;
    margin-bottom: 15px;
    color: #31708f;
    background-color: #d9edf7;
    padding: 10px;
    border-radius: 5px;
    border: 1px solid #bce8f1;
}

.pagos-table {
    width: 100%;
    border-collapse: collapse;
    margin-bottom: 20px;
    font-family: Arial, sans-serif;
}

.pagos-table th, .pagos-table td {
    border: 1px solid #ddd;
    padding: 8px;
    text-align: center;
}

.pagos-table th {
    background-color:  #e0a800;
    color: white;
}

.pagos-table tr:nth-child(even) {
    background-color: #f2f2f2;
}

.pagos-table tr:hover {
    background-color: #ddd;
}

.metodo {
    font-weight: bold;
    color: #0d6efd;
}

.monto {
    font-weight: bold;
    color: #28a745;
}

.acciones a {
    text-decoration: none;
    padding: 5px 10px;
    border-radius: 5px;
    margin: 2px;
    font-size: 0.85rem;
    display: inline-block;
}

.btn-editar {
    background-color: #ffc107;
    color: white;
}

.btn-eliminar {
    background-color: #dc3545;
    color: white;
}

.btn-editar:hover {
    background-color: #e0a800;
}

.btn-eliminar:hover {
    background-color: #c82333;
}

.no-registros {
    text-align: center;
    color: #888;
    font-style: italic;
}
</style>
{% endblock %}
